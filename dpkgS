#!/usr/bin/perl -w

# bloss in shell definieren "reicht nicht" weil es zu kompliziert wird. Muss nämlich schauen
# ob / in pfad. :()
# Jan 27 06:37


use strict;
use lib "/root/extlib";
use backtick qw/xbacktick xsystem/;

sub usage {
    print "usage: dpkgS commandname|file/path
";
    exit;
}

usage unless @ARGV;
for (@ARGV) {
    if (/^-/) {
        usage
    } else {
        local $/;
        if (! /\//) { # it could be a command
            my $path= xbacktick("which",$_);
            if ($?>>8 == 0) {
                chop $path;
                $_=$path 
            }
        }
        my $realpath= xbacktick("chase",$_);
        chop $realpath;
        xsystem "dpkg", "-S", $realpath;
    }
}

