#!/usr/bin/perl -w

# bloss in shell definieren "reicht nicht" weil es zu kompliziert wird. Muss nämlich schauen
# ob / in pfad. :()
# Jan 27 06:37


use strict;
use lib "/root/extlib";
use backtick qw/xbacktick xsystem/;

sub usage {
	print "usage: dpkgS commandname|file/path
";
	exit;
}

usage unless @ARGV;
for (@ARGV) {
	if (/^-/) {
		usage
	} else {
		local $/;
		if (! /\//) { # it could be a command
			my $path= xbacktick("which",$_);
			if ($?>>8 == 0) {
				chop $path;
				$_=$path 
			}
		}
		my $realpath= xbacktick("chase",$_);
		chop $realpath;
		xsystem "dpkg", "-S", $realpath;
	}
}

__END__

MANN DAS IST SOOOOO SCHEISISSSE.

ICH BEISSE MIR DIE ZAHNE AUS.

z.B. niemand weiss backtick imple.

Wenn ich in CPAN suche, gibts Shell:: module, in 5.6.1, das hab iuch doch das perl aber wieso
sind die nicht drauf........
AH, bloss man ist nicht. perldoc schon.


PS. sag mal
       IPC::Open3, open3 - open a process for reading, writing, and error handling

SYNOPSIS
           $pid = open3(\*WTRFH, \*RDRFH, \*ERRFH,
                           'some cmd and args', 'optarg', ...);
									^^^^^^^^^
	ich glaub mich scheuert der Affe.

--
Dann aber IO::Pipe zufällig gefunden. Bis auf wahrscheinlich immer noch das closeonexecproblem
wird das ok sein.
